---
title: SubShader
---

开发者可以在 `SubShader` 模块中完成对 Shader [Tag](/apis/galacean/#SubShader-setTag) 的设置，同时使用`UsePass` 和 `Pass` 指令声明 [ShaderPass](./pass) 对象。`SubShader` 模块语法骨架如下：

```glsl
SubShader "SubShaderName" {
  ...
  // 全局变量区：变量声明，结构体声明，渲染状态声明
  ...
  Tags {ReplaceTag = "opaque"}

  UsePass "ShaderName/SubShaderName/PassName"

  Pass "PassName" {
    ...
  }
}
```

## Tags

ShaderLab 中可以通过 `Tags` 指令直接声明和指定，无须通过 [SubShader.setTag](/apis/galacean/#SubShader-setTag) api 方式手动指定。


## Pass

`Pass` 是 `Shader` 对象的基本元素，它代表了一次 GPU 渲染绘制过程。有时我们想要绘制一个复杂特效通常需要在一次渲染主循环中渲染多次，但是这多次渲染的目的是为了实现同一个复杂的特效，因此我们可以将这些关联的 `Pass` 放到同一个 `SubShader` 下统一管理起来。通常我们称含有多个 `Pass` 的 `Shader` 为 `多-Pass-Shader`。

`Pass` 模块详细语法使用参考 [Pass](./pass) 页面。


## UsePass

如果一个 `SubShader` 包含多个 `Pass`，可以通过 `UsePass` 指令复用其他 `Pass` 对象，比如引擎内置的 PBR Pass: `UsePass "pbr/Default/Forward"`

|   内置 Shader   |            Pass 路径            |
| :-------------: | :-----------------------------: |
|       PBR       |       pbr/Default/Forward       |
|      Unlit      |      unlit/Default/Forward      |
|     Skybox      |     skybox/Default/Forward      |
| Particle-shader | particle-shader/Default/Forward |
|   SpriteMask    |   SpriteMask/Default/Forward    |
|     Sprite      |     Sprite/Default/Forward      |
